{"ast":null,"code":"import api from \"./api\";\nexport const ACTION_TYPES = {\n  CREATE: \"CREATE\",\n  UPDATE: \"UPDATE\",\n  DELETE: \"DELETE\",\n  FETCH_ALL: \"FETCH_ALL\"\n};\n\nconst formatData = data => ({ ...data,\n  age: parseInt(data.age ? data.age : 0)\n});\n\nexport const fetchall = () => dispatch => {\n  api.dCandidate().fetchAll().then(response => {\n    dispatch({\n      type: ACTION_TYPES.FETCH_ALL,\n      payload: response.data\n    });\n  }).catch(err => console.log(err)); //get api request\n};\nexport const create = (data, onSuccesss) => dispatch => {\n  data = formatData(data);\n  api.dCandidate().create(data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.CREATE,\n      payload: res.data\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};\nexport const update = (id, data, onSuccesss) => dispatch => {\n  data = formatData(data);\n  api.dCandidate.update(id, data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.CREATE,\n      payload: {\n        id,\n        ...data\n      }\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};\nexport const Delete = (id, onSuccesss) => dispatch => {\n  api.dCandidate.delete(id).then(res => {\n    dispatch({\n      type: ACTION_TYPES.DELETE,\n      payload: id\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};","map":{"version":3,"names":["api","ACTION_TYPES","CREATE","UPDATE","DELETE","FETCH_ALL","formatData","data","age","parseInt","fetchall","dispatch","dCandidate","fetchAll","then","response","type","payload","catch","err","console","log","create","onSuccesss","res","update","id","Delete","delete"],"sources":["C:/Users/Tom/source/repos/donate-candidate-app/src/actions/DCandidate.js"],"sourcesContent":["import api from \"./api\"\r\nexport const ACTION_TYPES = {\r\n    CREATE : \"CREATE\",\r\n    UPDATE:\"UPDATE\",\r\n    DELETE:\"DELETE\",\r\n    FETCH_ALL:\"FETCH_ALL\"\r\n}\r\nconst formatData= data=>({\r\n    ...data,\r\n    age:parseInt(data.age?data.age:0)\r\n})\r\nexport const fetchall = () =>  dispatch =>\r\n{\r\n    api.dCandidate().fetchAll()\r\n    .then(\r\n        response => {\r\n            dispatch({ type:ACTION_TYPES.FETCH_ALL,payload:response.data});\r\n        }\r\n    )\r\n    .catch( err => console.log(err));\r\n    //get api request\r\n}\r\nexport const create = (data, onSuccesss)=> dispatch =>{\r\n    data=formatData(data)\r\n    \r\n    api.dCandidate().create(data)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.CREATE,payload:res.data})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\nexport const update = (id,data, onSuccesss)=> dispatch =>{\r\n    data=formatData(data)\r\n    api.dCandidate.update(id,data)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.CREATE,payload:{id, ...data}})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const Delete = (id, onSuccesss)=> dispatch =>{\r\n    api.dCandidate.delete(id)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.DELETE,payload:id})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;AACA,OAAO,MAAMC,YAAY,GAAG;EACxBC,MAAM,EAAG,QADe;EAExBC,MAAM,EAAC,QAFiB;EAGxBC,MAAM,EAAC,QAHiB;EAIxBC,SAAS,EAAC;AAJc,CAArB;;AAMP,MAAMC,UAAU,GAAEC,IAAI,KAAG,EACrB,GAAGA,IADkB;EAErBC,GAAG,EAACC,QAAQ,CAACF,IAAI,CAACC,GAAL,GAASD,IAAI,CAACC,GAAd,GAAkB,CAAnB;AAFS,CAAH,CAAtB;;AAIA,OAAO,MAAME,QAAQ,GAAG,MAAOC,QAAQ,IACvC;EACIX,GAAG,CAACY,UAAJ,GAAiBC,QAAjB,GACCC,IADD,CAEIC,QAAQ,IAAI;IACRJ,QAAQ,CAAC;MAAEK,IAAI,EAACf,YAAY,CAACI,SAApB;MAA8BY,OAAO,EAACF,QAAQ,CAACR;IAA/C,CAAD,CAAR;EACH,CAJL,EAMCW,KAND,CAMQC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANf,EADJ,CAQI;AACH,CAVM;AAWP,OAAO,MAAMG,MAAM,GAAG,CAACf,IAAD,EAAOgB,UAAP,KAAqBZ,QAAQ,IAAG;EAClDJ,IAAI,GAACD,UAAU,CAACC,IAAD,CAAf;EAEAP,GAAG,CAACY,UAAJ,GAAiBU,MAAjB,CAAwBf,IAAxB,EACCO,IADD,CACMU,GAAG,IAAE;IACPb,QAAQ,CAAC;MAACK,IAAI,EAACf,YAAY,CAACC,MAAnB;MAA0Be,OAAO,EAACO,GAAG,CAACjB;IAAtC,CAAD,CAAR;IACAgB,UAAU;EACb,CAJD,EAKCL,KALD,CAKOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALd;AAMH,CATM;AAUP,OAAO,MAAMM,MAAM,GAAG,CAACC,EAAD,EAAInB,IAAJ,EAAUgB,UAAV,KAAwBZ,QAAQ,IAAG;EACrDJ,IAAI,GAACD,UAAU,CAACC,IAAD,CAAf;EACAP,GAAG,CAACY,UAAJ,CAAea,MAAf,CAAsBC,EAAtB,EAAyBnB,IAAzB,EACCO,IADD,CACMU,GAAG,IAAE;IACPb,QAAQ,CAAC;MAACK,IAAI,EAACf,YAAY,CAACC,MAAnB;MAA0Be,OAAO,EAAC;QAACS,EAAD;QAAK,GAAGnB;MAAR;IAAlC,CAAD,CAAR;IACAgB,UAAU;EACb,CAJD,EAKCL,KALD,CAKOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALd;AAMH,CARM;AAUP,OAAO,MAAMQ,MAAM,GAAG,CAACD,EAAD,EAAKH,UAAL,KAAmBZ,QAAQ,IAAG;EAChDX,GAAG,CAACY,UAAJ,CAAegB,MAAf,CAAsBF,EAAtB,EACCZ,IADD,CACMU,GAAG,IAAE;IACPb,QAAQ,CAAC;MAACK,IAAI,EAACf,YAAY,CAACG,MAAnB;MAA0Ba,OAAO,EAACS;IAAlC,CAAD,CAAR;IACAH,UAAU;EACb,CAJD,EAKCL,KALD,CAKOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALd;AAMH,CAPM"},"metadata":{},"sourceType":"module"}