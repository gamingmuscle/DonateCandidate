{"ast":null,"code":"import api from \"./api\";\nexport const ACTION_TYPES = {\n  CREATE: \"CREATE\",\n  UPDATE: \"UPDATE\",\n  DELETE: \"DELETE\",\n  FETCH_ALL: \"FETCH_ALL\",\n  FETCH: \"FETCH\"\n};\n\nconst formatData = data => ({ ...data,\n  age: parseInt(data.age ? data.age : 0)\n});\n\nexport const fetchall = () => dispatch => {\n  api.dCandidate().fetchAll().then(response => {\n    dispatch({\n      type: ACTION_TYPES.FETCH_ALL,\n      payload: response.data\n    });\n  }).catch(err => console.log(err)); //get api request\n};\nexport const fetch = (id, onSuccess) => dispatch => {\n  console.log(\"In fetch\");\n  api.dCandidate().fetchById(id).then(response => {\n    dispatch({\n      type: ACTION_TYPES.FETCH,\n      payload: response.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const create = (data, onSuccesss) => dispatch => {\n  data = formatData(data);\n  api.dCandidate().create(data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.CREATE,\n      payload: res.data\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};\nexport const update = (id, data, onSuccesss) => dispatch => {\n  data = formatData(data);\n  api.dCandidate().update(id, data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.UPDATE,\n      payload: {\n        id,\n        ...data\n      }\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};\nexport const Delete = (id, onSuccesss) => dispatch => {\n  api.dCandidate().delete(id).then(res => {\n    dispatch({\n      type: ACTION_TYPES.DELETE,\n      payload: id\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};","map":{"version":3,"names":["api","ACTION_TYPES","CREATE","UPDATE","DELETE","FETCH_ALL","FETCH","formatData","data","age","parseInt","fetchall","dispatch","dCandidate","fetchAll","then","response","type","payload","catch","err","console","log","fetch","id","onSuccess","fetchById","create","onSuccesss","res","update","Delete","delete"],"sources":["C:/Users/Tom/source/repos/donate-candidate-app/src/actions/DCandidate.js"],"sourcesContent":["import api from \"./api\"\r\nexport const ACTION_TYPES = {\r\n    CREATE : \"CREATE\",\r\n    UPDATE:\"UPDATE\",\r\n    DELETE:\"DELETE\",\r\n    FETCH_ALL:\"FETCH_ALL\",\r\n    FETCH:\"FETCH\"\r\n}\r\nconst formatData= data=>({\r\n    ...data,\r\n    age:parseInt(data.age?data.age:0)\r\n})\r\nexport const fetchall = () =>  dispatch =>\r\n{\r\n    api.dCandidate().fetchAll()\r\n    .then(\r\n        response => {\r\n            dispatch({ type:ACTION_TYPES.FETCH_ALL,payload:response.data});\r\n        }\r\n    )\r\n    .catch( err => console.log(err));\r\n    //get api request\r\n}\r\nexport const fetch = (id, onSuccess) => dispatch =>{\r\n    console.log(\"In fetch\")\r\n    api.dCandidate().fetchById(id)\r\n    .then(\r\n        response=> {\r\n            dispatch({type:ACTION_TYPES.FETCH,payload:response.data});\r\n        }\r\n    )\r\n    .catch(err => console.log(err))\r\n} \r\nexport const create = (data, onSuccesss)=> dispatch =>{\r\n    data=formatData(data)\r\n    \r\n    api.dCandidate().create(data)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.CREATE,payload:res.data})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\nexport const update = (id,data, onSuccesss)=> dispatch =>{\r\n    data=formatData(data)\r\n    api.dCandidate().update(id,data)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.UPDATE,payload:{id, ...data}})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const Delete = (id, onSuccesss)=> dispatch =>{\r\n    api.dCandidate().delete(id)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.DELETE,payload:id})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}