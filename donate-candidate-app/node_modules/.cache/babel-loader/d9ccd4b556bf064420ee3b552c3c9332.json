{"ast":null,"code":"import api from \"./api\"; //API Action types\n\nexport const ACTION_TYPES = {\n  CREATE: \"CREATE\",\n  UPDATE: \"UPDATE\",\n  DELETE: \"DELETE\",\n  FETCH_ALL: \"FETCH_ALL\",\n  FETCH: \"FETCH\"\n}; //  formatData\n//  helper function makes sure data is formatted properly\n\nconst formatData = data => ({ ...data,\n  age: parseInt(data.age ? data.age : 0) //unsuse age is an integer\n\n});\n\nexport const fetchall = () => dispatch => {\n  console.log(\"In fetch all\");\n  api.dCandidate().fetchAll().then(response => {\n    dispatch({\n      type: ACTION_TYPES.FETCH_ALL,\n      payload: response.data\n    });\n  }).catch(err => console.log(err)); //get api request\n};\nexport const fetch = (id, onSuccess) => dispatch => {\n  console.log(\"In fetch\");\n  api.dCandidate().fetchById(id).then(response => {\n    console.log(response.data);\n    dispatch({\n      type: ACTION_TYPES.FETCH,\n      payload: response.data\n    });\n    onSuccess();\n  }).catch(err => console.log(err));\n};\nexport const create = (data, onSuccesss) => dispatch => {\n  data = formatData(data);\n  api.dCandidate().create(data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.CREATE,\n      payload: res.data\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};\nexport const update = (id, data, onSuccesss) => dispatch => {\n  data = formatData(data);\n  api.dCandidate().update(id, data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.UPDATE,\n      payload: {\n        id,\n        ...data\n      }\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};\nexport const Delete = (id, onSuccesss) => dispatch => {\n  api.dCandidate().delete(id).then(res => {\n    dispatch({\n      type: ACTION_TYPES.DELETE,\n      payload: id\n    });\n    onSuccesss();\n  }).catch(err => console.log(err));\n};","map":{"version":3,"names":["api","ACTION_TYPES","CREATE","UPDATE","DELETE","FETCH_ALL","FETCH","formatData","data","age","parseInt","fetchall","dispatch","console","log","dCandidate","fetchAll","then","response","type","payload","catch","err","fetch","id","onSuccess","fetchById","create","onSuccesss","res","update","Delete","delete"],"sources":["C:/Users/Tom/source/repos/donate-candidate-app/src/actions/DCandidate.js"],"sourcesContent":["import api from \"./api\"\r\n//API Action types\r\nexport const ACTION_TYPES = {\r\n    CREATE : \"CREATE\",\r\n    UPDATE:\"UPDATE\",\r\n    DELETE:\"DELETE\",\r\n    FETCH_ALL:\"FETCH_ALL\",\r\n    FETCH:\"FETCH\"\r\n}\r\n//  formatData\r\n//  helper function makes sure data is formatted properly\r\nconst formatData= data=>({\r\n    ...data,\r\n    age:parseInt(data.age?data.age:0)//unsuse age is an integer\r\n})\r\n\r\nexport const fetchall = () =>  dispatch =>\r\n{\r\n    console.log(\"In fetch all\")\r\n    api.dCandidate().fetchAll()\r\n    .then(\r\n        response => {\r\n            dispatch({ type:ACTION_TYPES.FETCH_ALL,payload:response.data});\r\n        }\r\n    )\r\n    .catch( err => console.log(err));\r\n    //get api request\r\n}\r\nexport const fetch = (id, onSuccess) => dispatch =>{\r\n    console.log(\"In fetch\")\r\n    api.dCandidate().fetchById(id)\r\n    .then(\r\n        response=> {\r\n            console.log(response.data)\r\n            dispatch({type:ACTION_TYPES.FETCH,payload:response.data});\r\n            onSuccess()\r\n        }\r\n    )\r\n    .catch(err => console.log(err))\r\n} \r\nexport const create = (data, onSuccesss)=> dispatch =>{\r\n    data=formatData(data)\r\n    \r\n    api.dCandidate().create(data)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.CREATE,payload:res.data})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\nexport const update = (id,data, onSuccesss)=> dispatch =>{\r\n    data=formatData(data)\r\n    api.dCandidate().update(id,data)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.UPDATE,payload:{id, ...data}})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const Delete = (id, onSuccesss)=> dispatch =>{\r\n    api.dCandidate().delete(id)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.DELETE,payload:id})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}