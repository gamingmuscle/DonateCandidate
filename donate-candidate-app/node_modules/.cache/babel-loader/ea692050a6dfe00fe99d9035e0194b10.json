{"ast":null,"code":"import _objectSpread from\"C:/Users/Tom/source/repos/donate-candidate-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import api from\"./api\";//API Action types\nexport var ACTION_TYPES={CREATE:\"CREATE\",UPDATE:\"UPDATE\",DELETE:\"DELETE\",FETCH_ALL:\"FETCH_ALL\",FETCH:\"FETCH\"};//  formatData\n//  helper function makes sure data is formatted properly\nvar formatData=function formatData(data){return _objectSpread(_objectSpread({},data),{},{age:parseInt(data.age?data.age:0)//unsuse age is an integer\n});};//get all api request\nexport var fetchall=function fetchall(){return function(dispatch){console.log(\"In fetch all\");api.dCandidate().fetchAll().then(function(response){dispatch({type:ACTION_TYPES.FETCH_ALL,payload:response.data});}).catch(function(err){return console.log(err);});};};////get api request\nexport var fetch=function fetch(id,onSuccess){return function(dispatch){console.log(\"In fetch\");api.dCandidate().fetchById(id).then(function(response){console.log(response.data);dispatch({type:ACTION_TYPES.FETCH,payload:response.data});onSuccess();}).catch(function(err){return console.log(err);});};};export var create=function create(data,onSuccesss){return function(dispatch){data=formatData(data);api.dCandidate().create(data).then(function(res){dispatch({type:ACTION_TYPES.CREATE,payload:res.data});onSuccesss();}).catch(function(err){return console.log(err);});};};export var update=function update(id,data,onSuccesss){return function(dispatch){data=formatData(data);api.dCandidate().update(id,data).then(function(res){dispatch({type:ACTION_TYPES.UPDATE,payload:_objectSpread({id:id},data)});onSuccesss();}).catch(function(err){return console.log(err);});};};export var Delete=function Delete(id,onSuccesss){return function(dispatch){api.dCandidate().delete(id).then(function(res){dispatch({type:ACTION_TYPES.DELETE,payload:id});onSuccesss();}).catch(function(err){return console.log(err);});};};","map":{"version":3,"names":["api","ACTION_TYPES","CREATE","UPDATE","DELETE","FETCH_ALL","FETCH","formatData","data","age","parseInt","fetchall","dispatch","console","log","dCandidate","fetchAll","then","response","type","payload","catch","err","fetch","id","onSuccess","fetchById","create","onSuccesss","res","update","Delete","delete"],"sources":["C:/Users/Tom/source/repos/donate-candidate-app/src/actions/DCandidate.js"],"sourcesContent":["import api from \"./api\"\r\n//API Action types\r\nexport const ACTION_TYPES = {\r\n    CREATE : \"CREATE\",\r\n    UPDATE:\"UPDATE\",\r\n    DELETE:\"DELETE\",\r\n    FETCH_ALL:\"FETCH_ALL\",\r\n    FETCH:\"FETCH\"\r\n}\r\n//  formatData\r\n//  helper function makes sure data is formatted properly\r\nconst formatData= data=>({\r\n    ...data,\r\n    age:parseInt(data.age?data.age:0)//unsuse age is an integer\r\n})\r\n//get all api request\r\nexport const fetchall = () =>  dispatch =>\r\n{\r\n    console.log(\"In fetch all\")\r\n    api.dCandidate().fetchAll()\r\n    .then(\r\n        response => {\r\n            dispatch({ type:ACTION_TYPES.FETCH_ALL,payload:response.data});\r\n        }\r\n    )\r\n    .catch( err => console.log(err));\r\n    \r\n}\r\n////get api request\r\nexport const fetch = (id, onSuccess) => dispatch =>{\r\n    console.log(\"In fetch\")\r\n    api.dCandidate().fetchById(id)\r\n    .then(\r\n        response=> {\r\n            console.log(response.data)\r\n            dispatch({type:ACTION_TYPES.FETCH,payload:response.data});\r\n            onSuccess()\r\n        }\r\n    )\r\n    .catch(err => console.log(err))\r\n} \r\nexport const create = (data, onSuccesss)=> dispatch =>{\r\n    data=formatData(data)\r\n    \r\n    api.dCandidate().create(data)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.CREATE,payload:res.data})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\nexport const update = (id,data, onSuccesss)=> dispatch =>{\r\n    data=formatData(data)\r\n    api.dCandidate().update(id,data)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.UPDATE,payload:{id, ...data}})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const Delete = (id, onSuccesss)=> dispatch =>{\r\n    api.dCandidate().delete(id)\r\n    .then(res=>{\r\n        dispatch({type:ACTION_TYPES.DELETE,payload:id})\r\n        onSuccesss()\r\n    })\r\n    .catch(err => console.log(err))\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}